{% extends "django_cradmin/viewhelpers/listbuilderview/filterlist-top.django.html" %}

{% load i18n %}
{% load cradmin_tags %}
{% load cradmin_icon_tags %}

{% block pageheader-outer-extraclasses %}
    {{ block.super }}
    devilry-page-header-with-backlink
{% endblock %}

{% block pageheader-inner %}
    <a href="{% cradmin_instance_appindex_url 'overview' %}" class="devilry-page-header-backlink">
        <span class="sr-only">
            {% trans "Back to overview" %}
        </span>
        <span class="{% cradmin_icon 'devilry-pageheader-back' %}" aria-hidden="true"></span>
    </a>
    {{ block.super }}
{% endblock pageheader-inner %}

{% block content %}
    <div class="container devilry-dashboard-container-withtopmargin">
        <form action="{% cradmin_appurl 'download_report' %}" method="POST">
            {% csrf_token %}
            <input type="hidden" name="report_options" value="{{ report_options }}">
            <input class="btn btn-primary" type="submit" name="confirm" value="{% trans "Download results" %}"/>
        </form>
    </div>
    {{ block.super }}
{% endblock content %}

{% block listbuilderlist %}
    {% if listbuilder_list.has_items %}
        {% cradmin_render_renderable listbuilder_list %}
    {% else %}
        {% block no-items-wrapper %}
            <p class="django-cradmin-listing-no-items-message django-cradmin-listbuilderview-no-items-message">
                {% block no-items-paragraph-contents %}
                    {{ no_items_message }}
                {% endblock no-items-paragraph-contents %}
            </p>
        {% endblock no-items-wrapper %}
    {% endif %}
{% endblock listbuilderlist %}
