!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){k.initializeAllWidgetsWithinElement(document.body)}var a=n(12),o=r(a),u=n(11),s=r(u),l=n(10),c=r(l),f=n(14),d=r(f),p=n(13),h=r(p),g=n(3),y=r(g),v=n(4),_=r(v),m=n(25),b=r(m),w=new y.default;w.setDefaultLogLevel(_.default.INFO);var k=new b.default;k.registerWidgetClass("devilry-download-compressed-archive",o.default),k.registerWidgetClass("devilry-download-compressed-archive-startbutton",s.default),k.registerWidgetClass("devilry-download-compressed-archive-downloadlink",c.default),k.registerWidgetClass("devilry-grading-configuration",d.default),k.registerWidgetClass("devilry-grading-configuration-custom-table",h.default),"loading"!=document.readyState?i():document.addEventListener("DOMContentLoaded",function(){i()})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SentSignalInfo=t.ReceivedSignalInfo=t.DuplicateReceiverNameForSignal=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(5),u=r(o),s=n(24),l=r(s),c=t.DuplicateReceiverNameForSignal=(0,u.default)("DuplicateReceiverNameForSignal"),f=t.ReceivedSignalInfo=function(){function e(t,n,r){i(this,e),this.data=t,this.signalName=n,this.receiverName=r}return a(e,[{key:"toString",value:function(){return'ReceivedSignalInfo: signalName="'+this.signalName+'" receiverName="'+this.receiverName+'"'}},{key:"getPrettyFormattedData",value:function(){return new l.default(this.data).toString(2)}},{key:"toDebugString",value:function(){return this.toString+" data="+this.getPrettyFormattedData()}}]),e}(),d=function(){function e(t,n,r){i(this,e),this.signal=t,this.name=n,this.callback=r}return a(e,[{key:"trigger",value:function(e){var t=this;setTimeout(function(){t.callback(new f(e,t.signal.name,t.name))},0)}}]),e}(),p=t.SentSignalInfo=function(){function e(t){i(this,e),this.signalName=t,this.triggeredReceiverNames=[]}return a(e,[{key:"_addReceiverName",value:function(e){this.triggeredReceiverNames.push(e)}},{key:"toString",value:function(){var e=this.triggeredReceiverNames.join(", ");return""===e&&(e="NO RECEIVERS"),"Signal: "+this.signalName+" was sent to: "+e}}]),e}(),h=function(){function e(t){i(this,e),this.name=t,this.receiverMap=new Map}return a(e,[{key:"addReceiver",value:function(e,t){if(this.receiverMap.has(e))throw new c('The "'+e+'" receiver is already registered for the "'+this.name+'" signal');this.receiverMap.set(e,new d(this,e,t))}},{key:"removeReceiver",value:function(e){this.receiverMap.has(e)&&this.receiverMap.delete(e)}},{key:"hasReceiver",value:function(e){return this.receiverMap.has(e)}},{key:"receiverCount",value:function(){return this.receiverMap.size}},{key:"send",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=this.receiverMap.values()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;u.trigger(e),t&&t._addReceiverName(u.name)}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}}]),e}(),g=null,y=function(){function e(){return i(this,e),g||(g=this,this._signalMap=new Map,this._receiverMap=new Map),g}return a(e,[{key:"clearAllReceiversForAllSignals",value:function(){this._signalMap.clear()}},{key:"addReceiver",value:function(e,t,n){if("undefined"==typeof n)throw new TypeError("The callback argument for addReceiver() is required.");this._signalMap.has(e)||this._signalMap.set(e,new h(e)),this._receiverMap.has(t)?this._receiverMap.get(t).add(e):this._receiverMap.set(t,new Set([e]));var r=this._signalMap.get(e);r.addReceiver(t,n)}},{key:"removeReceiver",value:function(e,t){if(this._signalMap.has(e)){var n=this._signalMap.get(e);n.removeReceiver(t),0==n.receiverCount()&&this._signalMap.delete(e);var r=this._receiverMap.get(t);void 0!=r&&(r.has(e)&&r.delete(e),0==r.size&&this._receiverMap.delete(t))}}},{key:"removeAllSignalsFromReceiver",value:function(e){if(this._receiverMap.has(e)){var t=!0,n=!1,r=void 0;try{for(var i,a=this._receiverMap.get(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.removeReceiver(o,e)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}}},{key:"hasReceiver",value:function(e,t){if(this._signalMap.has(e)){var n=this._signalMap.get(e);return n.hasReceiver(t)}return!1}},{key:"clearAllReceiversForSignal",value:function(e){this._signalMap.has(e)&&this._signalMap.delete(e)}},{key:"send",value:function(e,t,n){var r=null;if(n&&(r=new p(e)),this._signalMap.has(e)){var i=this._signalMap.get(e);i.send(t,r)}n&&n(r)}}]),e}();t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(23),u=r(o),s=function(){function e(t,n){i(this,e),this.element=t,this.widgetInstanceId=n}return a(e,[{key:"getDefaultConfig",value:function(){return{}}},{key:"_parseConfig",value:function(){var e="data-ievv-jsbase-widget-config";if(this.element.hasAttribute(e)){var t=this.element.getAttribute(e),n=JSON.parse(t);return n}return{}}},{key:"destroy",value:function(){}},{key:"useAfterInitializeAllWidgets",value:function(){return!1}},{key:"afterInitializeAllWidgets",value:function(){}},{key:"config",get:function(){if("undefined"==typeof this._config){var e=this._parseConfig();this._config=u.default.mergeAndClone(this.getDefaultConfig(),e)}return this._config}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(22),u=r(o),s=n(4),l=r(s),c=null,f=function(){function e(){return i(this,e),c||(c=this),this._loggerMap=new Map,this.reset(),c}return a(e,[{key:"getLoggerCount",value:function(){return this._loggerMap.size}},{key:"reset",value:function(){this._logLevel=l.default.WARNING,this._loggerMap.clear()}},{key:"getDefaultLogLevel",value:function(){return this._logLevel}},{key:"setDefaultLogLevel",value:function(e){l.default.validateLogLevel(e),this._logLevel=e}},{key:"getLogger",value:function(e){return this._loggerMap.has(e)||this._loggerMap.set(e,new u.default(e,this)),this._loggerMap.get(e)}},{key:"getLoggerNameArray",value:function(){var e=Array.from(this._loggerMap.keys());return e.sort(),e}},{key:"getTextualNameForDefaultLogLevel",value:function(){return l.default.getTextualNameForLogLevel(this.getDefaultLogLevel())}},{key:"getDebugInfoString",value:function(){var e="Default logLevel: "+(this.getTextualNameForDefaultLogLevel()+"\n")+"Loggers:\n";if(0===this.getLoggerCount())e+="(no loggers)\n";else{var t=!0,n=!1,r=void 0;try{for(var i,a=this.getLoggerNameArray()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,u=this.getLogger(o);e+=" - "+u.getDebugInfoString()+"\n"}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}return e}}]),e}();t.default=f},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=t.LogLevels=function(){function e(){n(this,e),this._prettyLogLevelNames={},this._prettyLogLevelNames[this.DEBUG]="DEBUG",this._prettyLogLevelNames[this.INFO]="INFO",this._prettyLogLevelNames[this.WARNING]="WARNING",this._prettyLogLevelNames[this.ERROR]="ERROR",this._prettyLogLevelNames[this.SILENT]="SILENT"}return r(e,[{key:"validateLogLevel",value:function(e){if(e>this.DEBUG||e<this.SILENT)throw new RangeError("Invalid log level: "+e+", must be between "+(this.SILENT+" (SILENT) and "+this.DEBUG+" (DEBUG)"))}},{key:"getTextualNameForLogLevel",value:function(e){return this._prettyLogLevelNames[e]}},{key:"DEBUG",get:function(){return 4}},{key:"INFO",get:function(){return 3}},{key:"WARNING",get:function(){return 2}},{key:"ERROR",get:function(){return 1}},{key:"SILENT",get:function(){return 0}}]),e}(),a=new i;t.default=a},function(e,t){"use strict";function n(e,t){t=t||Error;var n=function(e,n){this.message=e;var r=(new t).stack.match(/[^\s]+$/);this.stack=this.name+" at "+r,"undefined"!=typeof n&&Object.assign(this,n)};return Object.setPrototypeOf(n,t),n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.message="",n.prototype.name=e,n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){n(this,e),this._tempDocumentBody=this._parseHtml(t)}return r(e,[{key:"_parseHtml",value:function(e){var t=document.implementation.createHTMLDocument();return t.body.innerHTML=e,t.body}},{key:"querySelector",value:function(e){return this._tempDocumentBody.querySelector(e)}},{key:"querySelectorAll",value:function(e){return Array.from(this._tempDocumentBody.querySelectorAll(e))}},{key:"rootElements",get:function(){return this._tempDocumentBody.children}},{key:"firstRootElement",get:function(){return this.rootElements[0]}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},l=n(17),c=r(l),f=n(18),d=r(f),p=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"makeRequestBody",value:function(e){return JSON.stringify(e)}},{key:"makeResponse",value:function(){return new c.default(this.request)}},{key:"setDefaultRequestHeaders",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDefaultRequestHeaders",this).call(this,e),this.setRequestHeader("Accept","application/json"),this.setRequestHeader("Content-Type","application/json; charset=UTF-8")}}]),t}(d.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.HttpResponseError=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(5),u=r(o),s=t.HttpResponseError=(0,u.default)("HttpResponseError"),l=function(){function e(t){i(this,e),this.request=t}return a(e,[{key:"isSuccess",value:function(){return this.status>=200&&this.status<300}},{key:"isRedirect",value:function(){return this.status>=300&&this.status<400}},{key:"isClientError",value:function(){return this.status>=400&&this.status<500}},{key:"isServerError",value:function(){return this.status>=500}},{key:"isConnectionRefused",value:function(){return 0===this.status}},{key:"responseHeaderToString",value:function(){return this.connectionRefused?"ERROR: Connection refused":"HTTP "+this.status+"\n"+this.request.getAllResponseHeaders()}},{key:"toError",value:function(){return new s(this.toString(),{response:this})}},{key:"getPrettyfiedBody",value:function(){return this.body}},{key:"toString",value:function(){return this.responseHeaderToString()+"\n\n"+this.getPrettyfiedBody()}},{key:"status",get:function(){return this.request.status}},{key:"body",get:function(){return this.request.responseText}}]),e}();t.default=l},function(e,t){"use strict";function n(e){if(null===e)return"null";var t="undefined"==typeof e?"undefined":r(e);return"undefined"===t?"undefined":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":"function"===t?"function":Array.isArray(e)?"array":e instanceof Map?"map":e instanceof Set?"set":"object"}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),l=r(s),c=n(1),f=r(c),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onFinishedSignal=n._onFinishedSignal.bind(n),n.signalHandler=new f.default,n.signalHandler.addReceiver(n.config.signalNameSpace+".Finished",n.config.signalNameSpace+".DownloadLinkReceiver",n._onFinishedSignal),n}return o(t,e),u(t,[{key:"_onFinishedSignal",value:function(e){console.log("FINISHED",e.data),this.element.setAttribute("href",e.data.download_link)}},{key:"destroy",value:function(){this.signalHandler.removeAllSignalsFromReceiver(this.config.signalNameSpace+".DownloadLinkReceiver")}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),l=r(s),c=n(1),f=r(c),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onClick=n._onClick.bind(n),n.signalHandler=new f.default,n.element.addEventListener("click",n._onClick),n}return o(t,e),u(t,[{key:"_onClick",value:function(e){e.preventDefault(),this.signalHandler.send(this.config.signalNameSpace+".Start")}},{key:"destroy",value:function(){this.element.removeEventListener("click",this._onClick)}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),l=r(s),c=n(16),f=r(c),d=n(7),p=r(d),h=n(1),g=r(h),y=n(3),v=r(y),_=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.status=null,n.cssClassPrefix="devilry-batchprocessed-download",n.pollCount=0,n.statuses=["none","not-created","not-started","running","finished"],n._onStartSignal=n._onStartSignal.bind(n),n.logger=(new v.default).getLogger("devilry.DownloadCompressedArchiveWidget"),n.signalHandler=new g.default,n.processingStartedTime=null,n.signalHandler.addReceiver(n.config.signalNameSpace+".Start",n.config.signalNameSpace+".MainReceiver",n._onStartSignal),n._requestStatusUpdate(),n}return o(t,e),u(t,[{key:"_updateCssClassesFromStatus",value:function(){this.element.classList.remove(this.cssClassPrefix+"--finished-within-same-session");var e=!0,t=!1,n=void 0;try{for(var r,i=this.statuses[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;this.element.classList.remove(this.cssClassPrefix+"--"+a)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}this.element.classList.add(this.cssClassPrefix+"--"+this.status),"finished"==this.status&&null!=this.processingStartedTime&&this.element.classList.add(this.cssClassPrefix+"--finished-within-same-session")}},{key:"_requestStatusUpdate",value:function(){var e=this;this.isLoading||new p.default(this.config.apiurl).get().then(function(t){e._handleApiResponse(t,"GET")}).catch(function(e){throw e})}},{key:"_handleFinishedStatus",value:function(e){this.logger.debug("Download finished processing",e.bodydata),this.element.setAttribute("href",e.bodydata.download_link),this.signalHandler.send(this.config.signalNameSpace+".Finished",e.bodydata)}},{key:"_handleNoFilesStatus",value:function(){this.element.style.display="none"}},{key:"_handleApiResponse",value:function(e,t){var n=this;if(this.pollCount++,this.logger.debug(t+" "+this.config.apiurl+":",e.bodydata),this.status=e.bodydata.status,this._updateCssClassesFromStatus(),"not-created"!=this.status)if("not-started"==this.status||"running"==this.status)window.setTimeout(function(){n._requestStatusUpdate()},this._pollDelayMilliseconds);else if("finished"==this.status)this._handleFinishedStatus(e);else{if("no-files"!=this.status)throw new Error("Invalid status: "+this.status);this._handleNoFilesStatus(e)}}},{key:"_onStartSignal",value:function(){var e=this;this.logger.debug("Start signal received"),"finished"!=this.status&&(this.processingStartedTime=new Date,new f.default(this.config.apiurl).post().then(function(t){e._handleApiResponse(t,"POST")}).catch(function(e){throw e}))}},{key:"destroy",value:function(){this.signalHandler.removeAllSignalsFromReceiver(this.config.signalNameSpace+".MainReceiver")}},{key:"_pollDelayMilliseconds",get:function(){return this.pollCount<3?700:this.pollCount<10?2e3:5e3}}]),t}(l.default);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),l=r(s),c=n(6),f=r(c),d=n(1),p=r(d),h=n(3),g=r(h),y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(null==n.config.signalNameSpace)throw new Error("The signalNameSpace config is required.");return n._name="devilry.GradingConfigurationCustomTableWidget."+n.config.signalNameSpace,n.logger=(new g.default).getLogger("devilry.GradingConfigurationCustomTableWidget"),n._onRemoveRow=n._onRemoveRow.bind(n),n._onGradeInputChange=n._onGradeInputChange.bind(n),n._onPointInputChange=n._onPointInputChange.bind(n),n._onAddRowSignal=n._onAddRowSignal.bind(n),n._onSetRowsSignal=n._onSetRowsSignal.bind(n),n._signalHandler=new p.default,n._initializeSignalHandlers(),n}return o(t,e),u(t,[{key:"getDefaultConfig",value:function(){return{signalNameSpace:"gradingConfiguration"}}}]),u(t,[{key:"_initializeSignalHandlers",value:function(){this._signalHandler.addReceiver(this.config.signalNameSpace+".AddCustomTableRow",this._name,this._onAddRowSignal),this._signalHandler.addReceiver(this.config.signalNameSpace+".SetCustomTableRows",this._name,this._onSetRowsSignal)}},{key:"destroy",value:function(){this._signalHandler.removeAllSignalsFromReceiver(this._name)}},{key:"_getRowChildElements",value:function(e){var t={gradeInput:e.children[0].children[0],pointInput:e.children[1].children[0]};return e.children.length>2&&(t.removeButton=e.children[2].children[0]),t}},{key:"_getPointsFromRowElement",value:function(e){var t=parseInt(e.children[1].children[0].value,10);return isNaN(t)?null:t}},{key:"_getGradeFromRowElement",value:function(e){return e.children[0].children[0].value}},{key:"_moveToCorrectPlace",value:function(e){var t=this._getPointsFromRowElement(e);if(null!=t){var n=!0,r=!1,i=void 0;try{for(var a,o=Array.from(this.element.children)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;if(e!=u){var s=this._getPointsFromRowElement(u);if(null==s||t<s)return void this.element.insertBefore(e,u)}}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}this.element.appendChild(e)}},{key:"_addRow",value:function(e,t){var n=new f.default('\n      <div class="devilry-tabulardata-list__row">\n        <div class="devilry-tabulardata-list__cell">\n          <input class="textinput textInput form-control form-control"\n                 maxlength="12"\n                 value="'+e+'"\n                 type="text">\n        </div>\n        <div class="devilry-tabulardata-list__cell">\n          <input class="numberinput form-control form-control"\n                 value="'+t+'"\n                 type="number"\n                 min="1" step="1">\n        </div>\n        <div class="devilry-tabulardata-list__cell">\n          <button class="btn btn-danger" type="button">\n              remove\n          </button>\n        </div>\n      </div>\n    '),r=n.firstRootElement;this.element.appendChild(r);var i=this._getRowChildElements(r);return i.pointInput.addEventListener("change",this._onPointInputChange),i.gradeInput.addEventListener("change",this._onGradeInputChange),i.removeButton&&i.removeButton.addEventListener("click",this._onRemoveRow),this.element.children[0]==r&&(i.removeButton.parentElement.removeChild(i.removeButton),i.pointInput.removeAttribute("min"),i.pointInput.disabled=!0,i.pointInput.value=0),r}},{key:"_removeRow",value:function(e){var t=this._getRowChildElements(e);t.removeButton&&t.removeButton.removeEventListener("click",this._onRemoveRow),e.parentElement.removeChild(e),this._sendValueChangeSignal()}},{key:"_clear",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=Array.from(this.element.children)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;this._removeRow(a)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"_buildTable",value:function(e){this._clear();var t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this._addRow(o[1],o[0])}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"_getCurrentValueList",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,a=Array.from(this.element.children)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,u=this._getPointsFromRowElement(o),s=this._getGradeFromRowElement(o)||"";s=s.trim(),null!=u&&""!=s&&e.push([u,s])}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return e}},{key:"_sendValueChangeSignal",value:function(){this._signalHandler.send(this.config.signalNameSpace+".CustomTableValueChange",this._getCurrentValueList())}},{key:"_onGradeInputChange",value:function(e){e.target.value;this._sendValueChangeSignal()}},{key:"_onPointInputChange",value:function(e){var t=e.target,n=t.parentElement.parentElement;this._moveToCorrectPlace(n),this._sendValueChangeSignal()}},{key:"_onSetRowsSignal",value:function(e){var t=e.data.valueList,n=e.data.sendValueChangeSignal;this._buildTable(t),n&&this._sendValueChangeSignal()}},{key:"_onAddRowSignal",value:function(e){var t=this._addRow(e.data.grade,e.data.points);this._getRowChildElements(t).gradeInput.focus()}},{key:"_onRemoveRow",value:function(e){e.preventDefault();var t=e.target,n=t.parentElement.parentElement;this._removeRow(n)}}]),t}(l.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),l=r(s),c=n(6),f=r(c),d=n(1),p=r(d),h=n(3),g=r(h),y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(null==n.config.signalNameSpace)throw new Error("The signalNameSpace config is required.");return n._name="devilry.GradingConfigurationWidget."+n.config.signalNameSpace,n._signalHandler=new p.default,n.logger=(new g.default).getLogger("devilry.GradingConfigurationWidget"),n._onPluginIdRadioChange=n._onPluginIdRadioChange.bind(n),n._onPointsToGradeMapperRadioChange=n._onPointsToGradeMapperRadioChange.bind(n),n._onPassingGradeMinPointsChange=n._onPassingGradeMinPointsChange.bind(n),n._onAddCustomTableRow=n._onAddCustomTableRow.bind(n),n._onSetupCustomTableAtoFExample=n._onSetupCustomTableAtoFExample.bind(n),n._onCustomTableValueChangeSignal=n._onCustomTableValueChangeSignal.bind(n),n.pluginIdElements=n._getPluginIdElements(),n.passingGradeMinPointsWrapperElement=document.getElementById("div_id_passing_grade_min_points"),n.passingGradeMinPointsInputElement=document.getElementById("id_passing_grade_min_points"),n.maxPointsLabelElement=n.element.querySelector("#div_id_max_points label"),n.maxPointsHelpTextElement=document.getElementById("hint_id_max_points"),n.maxPointsInputElement=document.getElementById("id_max_points"),n.pointsToGradeMapperElements=n._getPointsToGradeMapperElements(),n.customTableWrapperElement=document.getElementById("id_custom_table_wrapper"),n.customTableAddRowButton=document.getElementById("id_custom_table_add_row_button"),n.customTableSetuAtoFExampleButton=document.getElementById("id_custom_table_setup_atof_example_button"),n.pointToGradeMapJsonElement=document.getElementById("id_point_to_grade_map_json"),n._state={},n._initializeSignalHandlers(),n}return o(t,e),u(t,[{key:"getDefaultConfig",value:function(){return{signalNameSpace:"gradingConfiguration"}}}]),u(t,[{key:"useAfterInitializeAllWidgets",value:function(){return!0}},{key:"afterInitializeAllWidgets",value:function(){var e=this.element.querySelector("#div_id_grading_system_plugin_id input[checked]").value,t=this.element.querySelector("#div_id_points_to_grade_mapper input[checked]").value,n=this.pointToGradeMapJsonElement.value,r=parseInt(this.passingGradeMinPointsInputElement.value);isNaN(r)&&(r=null);var i=parseInt(this.maxPointsInputElement.value);isNaN(i)&&(i=null);var a=[];void 0!=n&&null!=n&&""!=n&&(a=JSON.parse(n)),0!=a.length&&0==a[0][0]||(a=[[0,""]]),this._setState({grading_system_plugin_id:e,points_to_grade_mapper:t,point_to_grade_map:a,passing_grade_min_points:r,max_points:i},!0),this._addEventListeners()}},{key:"_initializeSignalHandlers",value:function(){this._signalHandler.addReceiver(this.config.signalNameSpace+".CustomTableValueChange",this._name,this._onCustomTableValueChangeSignal)}},{key:"_setState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.assign({},this._state);this._state=Object.assign({},this._state,e),t&&(this.pluginIdElements[this._state.grading_system_plugin_id].input.checked=!0,this.pointsToGradeMapperElements[this._state.points_to_grade_mapper].input.checked=!0,this._signalHandler.send(this.config.signalNameSpace+".SetCustomTableRows",{valueList:this._state.point_to_grade_map,sendValueChangeSignal:!1})),"devilry_gradingsystemplugin_approved"==this._state.grading_system_plugin_id&&"custom-table"==this._state.points_to_grade_mapper&&(this._state.points_to_grade_mapper="passed-failed"),
this._state.grading_system_plugin_id!=n.grading_system_plugin_id&&this._updateUiForPlugin(),this._state.points_to_grade_mapper!=n.points_to_grade_mapper&&this._updateUiForPointsToGradeMapper(),this._state.point_to_grade_map!=n.point_to_grade_map&&(this.pointToGradeMapJsonElement.value=JSON.stringify(this._state.point_to_grade_map),this._updateUiForPointsToGradeMapper())}},{key:"_updateUiForPlugin",value:function(){var e=this._state.grading_system_plugin_id;if("devilry_gradingsystemplugin_approved"==e)this._updateUiForApprovedPlugin();else{if("devilry_gradingsystemplugin_points"!=e)throw new Error('Unsupported grading_system_plugin: "'+e+'"');this._updateUiForPointsPlugin()}}},{key:"_updateUiForApprovedPlugin",value:function(){this.passingGradeMinPointsWrapperElement.style.display="none",this._hidePointsToGradeMapperCustomTableChoice();var e=this.config.devilry_gradingsystemplugin_approved;this._updateUiLabels(e)}},{key:"_updateUiForPointsPlugin",value:function(){this.passingGradeMinPointsWrapperElement.style.display="block",this._showPointsToGradeMapperCustomTableChoice();var e=this.config.devilry_gradingsystemplugin_points;this._updateUiLabels(e)}},{key:"_renderPassingGradeMinPointsField",value:function(){var e=this.passingGradeMinPointsInputElement.parentElement;e.removeChild(this.passingGradeMinPointsInputElement);var t="";t="custom-table"==this._state.points_to_grade_mapper?this._getPassingGradeMinPointsCustomTableSelectFieldHtml():this._getPassingGradeMinPointsInputFieldHtml();var n=new f.default(t),r=n.firstRootElement;this.passingGradeMinPointsInputElement=r,e.insertBefore(r,e.children[0]),r.addEventListener("change",this._onPassingGradeMinPointsChange)}},{key:"_getPassingGradeMinPointsCustomTableSelectFieldHtml",value:function(){var e='<option value=""></option>',t=!1,n=!0,r=!1,i=void 0;try{for(var a,o=this._state.point_to_grade_map[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value,s=u[0],l=u[1],c="";s!=this._state.passing_grade_min_points||t||(c="selected",t=!0),e+='<option value="'+s+'" '+c+">"+s+" ("+l+")</option>"}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return'<select name="passing_grade_min_points" class="form-control">'+e+"</select>"}},{key:"_getPassingGradeMinPointsInputFieldHtml",value:function(){var e=this._state.passing_grade_min_points;return null==e&&(e=""),'<input type="number" name="passing_grade_min_points" \n                   value="'+e+'"\n                   min="0" step="1"\n                   class="form-control"/>'}},{key:"_updateUiForPointsToGradeMapper",value:function(){var e=this._state.points_to_grade_mapper;"custom-table"==e?this.customTableWrapperElement.style.display="block":this.customTableWrapperElement.style.display="none",this._renderPassingGradeMinPointsField()}},{key:"_getPluginIdElements",value:function(){var e=Array.from(this.element.querySelectorAll('#div_id_grading_system_plugin_id input[type="radio"]')),t={},n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;t[u.value]={input:u}}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return t}},{key:"_getPointsToGradeMapperElements",value:function(){var e=Array.from(this.element.querySelectorAll('#div_id_points_to_grade_mapper input[type="radio"]')),t={},n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;t[u.value]={input:u,wrapper:u.parentElement.parentElement}}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return t}},{key:"_addEventListeners",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=Object.keys(this.pluginIdElements)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value,o=this.pluginIdElements[a].input;o.addEventListener("change",this._onPluginIdRadioChange)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}var u=!0,s=!1,l=void 0;try{for(var c,f=Object.keys(this.pointsToGradeMapperElements)[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var d=c.value,p=this.pointsToGradeMapperElements[d].input;p.addEventListener("change",this._onPointsToGradeMapperRadioChange)}}catch(e){s=!0,l=e}finally{try{!u&&f.return&&f.return()}finally{if(s)throw l}}this.customTableAddRowButton.addEventListener("click",this._onAddCustomTableRow),this.customTableSetuAtoFExampleButton.addEventListener("click",this._onSetupCustomTableAtoFExample)}},{key:"destroy",value:function(){}},{key:"_hidePointsToGradeMapperCustomTableChoice",value:function(){this.pointsToGradeMapperElements["custom-table"].wrapper.style.display="none",this.pointsToGradeMapperElements["custom-table"].input.checked&&(this.pointsToGradeMapperElements["passed-failed"].input.checked=!0)}},{key:"_showPointsToGradeMapperCustomTableChoice",value:function(){this.pointsToGradeMapperElements["custom-table"].wrapper.style.display="block"}},{key:"_updateUiLabels",value:function(e){this.maxPointsLabelElement.innerHTML=e.max_points_label||"",""==e.max_points_help_text?this.maxPointsHelpTextElement.style.display="none":(this.maxPointsHelpTextElement.style.display="block",this.maxPointsHelpTextElement.innerHTML=e.max_points_help_text||"")}},{key:"_onPluginIdRadioChange",value:function(e){var t=e.target.value;this._setState({grading_system_plugin_id:t})}},{key:"_onPointsToGradeMapperRadioChange",value:function(e){var t=e.target.value;this._setState({points_to_grade_mapper:t})}},{key:"_onAddCustomTableRow",value:function(e){e.preventDefault(),this._signalHandler.send(this.config.signalNameSpace+".AddCustomTableRow",{grade:"",points:""})}},{key:"_getCustomTableAtoFExampleConfig",value:function(){return[[0,"F"],[25,"D"],[50,"C"],[75,"B"],[90,"A"]]}},{key:"_onSetupCustomTableAtoFExample",value:function(e){e.preventDefault(),window.confirm("Are you sure you want to setup the A-F example? Clears the table and inserts new rows.")&&this._signalHandler.send(this.config.signalNameSpace+".SetCustomTableRows",{valueList:this._getCustomTableAtoFExampleConfig(),sendValueChangeSignal:!0})}},{key:"_onCustomTableValueChangeSignal",value:function(e){var t=e.data;this._setState({point_to_grade_map:t})}},{key:"_onPassingGradeMinPointsChange",value:function(e){var t=parseInt(e.target.value);isNaN(t)&&(t=null),this._setState({passing_grade_min_points:t})}}]),t}(l.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.HttpCookieNotFoundError=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(5),u=r(o),s=t.HttpCookieNotFoundError=(0,u.default)("HttpCookieNotFoundError"),l=function(){function e(t){i(this,e),this.rawCookies=t||document.cookie,this.cookies=this.__parse()}return a(e,[{key:"__parse",value:function(){var e={};if(this.rawCookies&&""!==this.rawCookies)for(var t=this.rawCookies.split(";"),n=0;n<t.length;n++){var r=t[n].trim(),i=r.split("=",2);if(2===i.length){var a=i[0],o=i[1];e[a.trim()]=o.trim()}}return e}},{key:"get",value:function(e,t){var n=this.cookies[e];return"undefined"==typeof n?t:n}},{key:"getStrict",value:function(e){var t=this.get(e);if("undefined"==typeof t)throw new s('Cookie not found: "'+e+'".');return t}},{key:"contains",value:function(e){return"undefined"!=typeof this.cookies[e]}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},l=n(7),c=r(l),f=n(15),d=r(f),p=function(e){function t(){var e;i(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var u=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return u._cookies=new d.default,u}return o(t,e),u(t,[{key:"setDefaultRequestHeaders",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDefaultRequestHeaders",this).call(this,e);var n=!("GET"==e||"HEAD"==e);n&&this.setRequestHeader("X-CSRFToken",this.csrftoken)}},{key:"csrftoken",get:function(){return this._cookies.getStrict("csrftoken")}}]),t}(c.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(8),l=r(s),c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"__parseResponseTextAsJson",value:function(){return JSON.parse(this.body)}},{key:"getPrettyfiedBody",value:function(){var e=void 0;try{e=JSON.stringify(this.bodydata,null,2)}catch(t){e=this.body}return e}},{key:"bodydata",get:function(){return this.isConnectionRefused()?null:this.__parseResponseTextAsJson()}}]),t}(l.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(8),u=r(o),s=n(20),l=function(){function e(t){i(this,e),this._treatRedirectResponseAsError=!0,this.request=new XMLHttpRequest,this._urlParser=null,"undefined"!=typeof t&&this.setUrl(t)}return a(e,[{key:"setUrl",value:function(e){this._urlParser=new s.UrlParser(e)}},{key:"setTreatRedirectResponseAsError",value:function(e){this._treatRedirectResponseAsError=e}},{key:"send",value:function(e,t){var n=this;if(e=e.toUpperCase(),null===this._urlParser)throw new TypeError("Can not call send() without an url.");return new Promise(function(r,i){n.request.open(e,n.urlParser.buildUrl(),!0),n.setDefaultRequestHeaders(e),n.request.onload=function(){return n._onComplete(r,i)},n.request.onerror=function(){return n._onComplete(r,i)},n.request.send(n.makeRequestBody(t))})}},{key:"get",value:function(e){return this.send("get",e)}},{key:"head",value:function(e){return this.send("head",e)}},{key:"post",value:function(e){return this.send("post",e)}},{key:"put",value:function(e){return this.send("put",e)}},{key:"patch",value:function(e){return this.send("patch",e)}},{key:"httpdelete",value:function(e){return this.send("delete",e)}},{key:"makeRequestBody",value:function(e){return e}},{key:"makeResponse",value:function(){return new u.default(this.request)}},{key:"setRequestHeader",value:function(e,t){this.request.setRequestHeader(e,t)}},{key:"setDefaultRequestHeaders",value:function(e){}},{key:"_onComplete",value:function(e,t){var n=this.makeResponse(),r=!1;r=this._treatRedirectResponseAsError?n.isSuccess():n.isSuccess()||n.isRedirect(),r?e(n):t(n.toError())}},{key:"urlParser",get:function(){return this._urlParser}}]),e}();t.default=l},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){if(n(this,e),this._queryStringMap=new Map,"undefined"!=typeof t){if("string"!=typeof t)throw new TypeError("The querystring argument must be a string.");this._parseQueryString(t)}}return i(e,[{key:"isEmpty",value:function(){return 0===this._queryStringMap.size}},{key:"clear",value:function(){this._queryStringMap.clear()}},{key:"_parseQueryStringItem",value:function(e){var t=e.split("="),n=decodeURIComponent(t[0]),r=decodeURIComponent(t[1]);this.append(n,r)}},{key:"_parseQueryString",value:function(e){var t=e.split("&"),n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;this._parseQueryStringItem(u)}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}},{key:"_addToKey",value:function(e,t){if("string"!=typeof e)throw new TypeError("All keys added to a QueryString must be strings.");if("string"!=typeof t)throw new TypeError("All values added to a QueryString must be strings.");this._queryStringMap.get(e).push(t)}},{key:"_setKeyToEmptyArray",value:function(e){this._queryStringMap.set(e,[])}},{key:"setIterable",value:function(e,t){this._setKeyToEmptyArray(e);var n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;this._addToKey(e,u)}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}0===this._queryStringMap.get(e).length&&this.remove(e)}},{key:"set",value:function(e,t){this.setIterable(e,[t])}},{key:"get",value:function(e,t){var n=this._queryStringMap.get(e);return"undefined"==typeof n?t:n[0]}},{key:"append",value:function(e,t){this._queryStringMap.has(e)||this._setKeyToEmptyArray(e),this._addToKey(e,t)}},{key:"getArray",value:function(e,t){if(this._queryStringMap.has(e)){var n=this._queryStringMap.get(e);return Array.from(n)}return"undefined"!=typeof falback?[]:t}},{key:"remove",value:function(e){this._queryStringMap.delete(e)}},{key:"has",value:function(e){return this._queryStringMap.has(e)}},{key:"_encodeKeyValue",value:function(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}},{key:"urlencode",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var a,o=this._queryStringMap[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var u=r(a.value,2),s=u[0],l=u[1],c=!0,f=!1,d=void 0;try{for(var p,h=l[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var g=p.value;e.push(this._encodeKeyValue(s,g))}}catch(e){f=!0,d=e}finally{try{!c&&h.return&&h.return()}finally{if(f)throw d}}}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}return e.join("&")}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.UrlParser=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(19),u=r(o);t.UrlParser=function(){function e(t){if(i(this,e),"string"!=typeof t)throw new TypeError("url must be a string.");var n=t.split("?");this._baseUrl=n[0],this._parsedBaseUrl=this._parseBaseUrl(),this.queryString=null,n.length>1?this.setQueryString(new u.default(n[1])):this.setQueryString(new u.default)}return a(e,[{key:"_splitDomainAndPath",value:function(e){var t=e.split("/"),n=t.shift(),r="";return t.length>0&&(r="/"+t.join("/")),{domain:n,path:r}}},{key:"_parseBaseUrl",value:function(){var e={scheme:null,path:"",domain:null};if(this._baseUrl.match(/^[a-zA-Z0-9]+:\/\//)){var t=this._baseUrl.split("://");e.scheme=t.shift();var n=t.join("://"),r=this._splitDomainAndPath(n);e.domain=r.domain,e.path=r.path}else if(this._baseUrl.length>0&&"/"==this._baseUrl.substring(0,1))e.path=""+this._baseUrl;else{var i=this._splitDomainAndPath(this._baseUrl);e.domain=i.domain,e.path=i.path}return e}},{key:"buildUrl",value:function(){var e=this._baseUrl;return this.queryString.isEmpty()||(e=e+"?"+this.queryString.urlencode()),e}},{key:"setQueryString",value:function(e){this.queryString=e}},{key:"scheme",get:function(){return this._parsedBaseUrl.scheme}},{key:"path",get:function(){return this._parsedBaseUrl.path}},{key:"domain",get:function(){return this._parsedBaseUrl.domain}}]),e}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),u=r(o),s=function(){function e(){i(this,e)}return a(e,[{key:"getLogLevel",value:function(){throw new Error("Must be overridden in subclasses.")}},{key:"_noOutput",value:function(){}},{key:"isDebug",get:function(){return this.getLogLevel()>=u.default.DEBUG}},{key:"isInfo",get:function(){return this.getLogLevel()>=u.default.INFO}},{key:"isWarning",get:function(){return this.getLogLevel()>=u.default.WARNING}},{key:"isError",get:function(){return this.getLogLevel()>=u.default.ERROR}},{key:"debug",get:function(){return this.getLogLevel()>=u.default.DEBUG?console.log.bind(console):this._noOutput}},{key:"info",get:function(){return this.getLogLevel()>=u.default.INFO?console.log.bind(console):this._noOutput}},{key:"warning",get:function(){return this.getLogLevel()>=u.default.WARNING?console.warn.bind(console):this._noOutput}},{key:"error",get:function(){return this.getLogLevel()>=u.default.ERROR?console.error.bind(console):this._noOutput}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(21),l=r(s),c=n(4),f=r(c),d=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._name=e,r._logLevel=null,r._loggerSingleton=n,r}return o(t,e),u(t,[{key:"setLogLevel",value:function(e){f.default.validateLogLevel(e),this._logLevel=e}},{key:"getLogLevel",value:function(){return null==this._logLevel?this._loggerSingleton.getDefaultLogLevel():this._logLevel}},{key:"getTextualNameForLogLevel",value:function(){return null==this._logLevel?"[default for LoggerSingleton - "+(this._loggerSingleton.getTextualNameForDefaultLogLevel()+"]"):f.default.getTextualNameForLogLevel(this.getLogLevel())}},{key:"getDebugInfoString",value:function(){return this.name+": "+this.getTextualNameForLogLevel()}},{key:"name",get:function(){return this._name}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(9),u=r(o),s=function(){function e(){i(this,e)}return a(e,null,[{key:"_hasOwnValue",value:function(e,t,n){function r(e){return!(void 0==e||null==e||t&&e=={}||n&&""==e)}if(!r(e))return!1;for(var i=arguments.length,a=Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];var u=!0,s=!1,l=void 0;try{for(var c,f=a[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var d=c.value;if(!(d in e&&r(e[d])))return!1;e=e[d]}}catch(e){s=!0,l=e}finally{try{!u&&f.return&&f.return()}finally{if(s)throw l}}return!0}},{key:"validateAllowEmptyObject",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._hasOwnValue.apply(this,[e,!1,!0].concat(n))}},{key:"validateAllowEmptyString",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._hasOwnValue.apply(this,[e,!0,!1].concat(n))}},{key:"validate",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._hasOwnValue.apply(this,[e,!0,!0].concat(n))}},{key:"validateAllowEmptyStringAndEmptyObject",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._hasOwnValue.apply(this,[e,!1,!1].concat(n))}},{key:"validateOrFallback",value:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!this.validate.apply(this,[t].concat(r)))return e;var a=!0,o=!1,u=void 0;try{for(var s,l=r[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;t=t[c]}}catch(e){o=!0,u=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw u}}return t}},{key:"validateOrCallback",value:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=this.validateOrFallback.apply(this,[null,t].concat(r));return null==a?e():a}},{key:"validateOrError",value:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this.validateOrCallback.apply(this,[function(){throw new Error(e)},t].concat(r))}},{key:"_recursiveMerge",value:function(e,t){for(var n in t){var r=(0,u.default)(t[n]);if("object"==r)void 0==e[n]&&(e[n]={}),e[n]=this._recursiveMerge(e[n],t[n]);else if("array"==r)e[n]=Array.from(t[n]);else{if("null"!=r&&"number"!=r&&"boolean"!=r&&"string"!=r)throw new Error("Unsupported type: "+r+".");e[n]=t[n]}}return e}},{key:"_merge",value:function(e,t,n){if(n)return this._recursiveMerge(e,t);var r={};return r=this._recursiveMerge(r,e),this._recursiveMerge(r,t)}},{key:"mergeInPlace",value:function(e,t){this._merge(e,t,!0)}},{key:"mergeAndClone",value:function(e,t){return this._merge(e,t,!1)}},{key:"clone",value:function(e){return this.mergeAndClone({},e)}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(9),s=r(u),l=function(){function e(t){i(this,e),this._obj=t}return o(e,[{key:"_indentString",value:function(e,t,n){return 0===t?e:""+" ".repeat(t*n)+e}},{key:"_objectToMap",value:function(e){var t=new Map,n=Array.from(Object.keys(e));n.sort();var r=!0,i=!1,a=void 0;try{for(var o,u=n[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value;t.set(s,e[s])}}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return t}},{key:"_prettyFormatFlatIterable",value:function(e,t,n,r,i,a){var o=i,u=", ";n&&(o=i+"\n",u=",");var s=1,l=!0,c=!1,f=void 0;try{for(var d,p=e[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var h=d.value,g=this._prettyFormat(h,n,r+1);s!==t&&(g+=u),o+=this._indentString(g,n,r+1),n&&(o+="\n"),s++}}catch(e){c=!0,f=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw f}}return o+=this._indentString(""+a,n,r)}},{key:"_prettyFormatMap",value:function(e,t,n,r,i,o){var u=r,s=", ";t&&(u=r+"\n",s=",");var l=1,c=!0,f=!1,d=void 0;try{for(var p,h=e[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var g=a(p.value,2),y=g[0],v=g[1],_=this._prettyFormat(y,t,n+1),m=this._prettyFormat(v,t,n+1),b=""+_+o+m;l!==e.size&&(b+=s),u+=this._indentString(b,t,n+1),t&&(u+="\n"),l++}}catch(e){f=!0,d=e}finally{try{!c&&h.return&&h.return()}finally{if(f)throw d}}return u+=this._indentString(""+i,t,n)}},{key:"_prettyFormatFunction",value:function(e){return"[Function: "+e.name+"]"}},{key:"_prettyFormat",value:function(e,t,n){var r=(0,s.default)(e),i="";return i="string"===r?'"'+e+'"':"number"===r||"boolean"===r||"undefined"===r||"null"===r?""+e:"array"===r?this._prettyFormatFlatIterable(e,e.length,t,n,"[","]"):"set"===r?this._prettyFormatFlatIterable(e,e.size,t,n,"Set(",")"):"map"===r?this._prettyFormatMap(e,t,n,"Map(",")"," => "):"function"===r?this._prettyFormatFunction(e):this._prettyFormatMap(this._objectToMap(e),t,n,"{","}",": ")}},{key:"toString",value:function(e){return e=e||0,this._prettyFormat(this._obj,e,0)}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ElementIsNotInitializedAsWidget=t.InvalidWidgetAliasError=t.ElementIsNotWidgetError=t.ElementHasNoWidgetInstanceIdError=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(5),u=r(o),s=null,l=t.ElementHasNoWidgetInstanceIdError=(0,u.default)("ElementHasNoWidgetInstanceIdError"),c=t.ElementIsNotWidgetError=(0,u.default)("ElementIsNotWidgetError"),f=t.InvalidWidgetAliasError=(0,u.default)("InvalidWidgetAliasError"),d=t.ElementIsNotInitializedAsWidget=(0,u.default)("ElementIsNotInitializedAsWidget"),p=function(){function e(){return i(this,e),s||(s=this,this._initialize()),s}return a(e,[{key:"_initialize",value:function(){this._widgetAttribute="data-ievv-jsbase-widget",this._widgetInstanceIdAttribute="data-ievv-jsbase-widget-instanceid",this._widgetClassMap=new Map,this._widgetInstanceMap=new Map,this._widgetInstanceCounter=0}},{key:"clear",value:function(){this._widgetClassMap.clear(),this._widgetInstanceMap.clear(),this._widgetInstanceCounter=0}},{key:"registerWidgetClass",value:function(e,t){this._widgetClassMap.set(e,t)}},{key:"removeWidgetClass",value:function(e){this._widgetClassMap.delete(e)}},{key:"initializeWidget",value:function(e){var t=e.getAttribute(this._widgetAttribute);if(!t)throw new c("The\n\n"+e.outerHTML+"\n\nelement has no or empty"+(this._widgetAttribute+" attribute."));if(!this._widgetClassMap.has(t))throw new f('No WidgetClass registered with the "'+t+'" alias.');var n=this._widgetClassMap.get(t);this._widgetInstanceCounter++;var r=this._widgetInstanceCounter.toString(),i=new n(e,r);return this._widgetInstanceMap.set(r,i),e.setAttribute(this._widgetInstanceIdAttribute,r),i}},{key:"_getAllWidgetElementsWithinElement",value:function(e){return Array.from(e.querySelectorAll("["+this._widgetAttribute+"]"))}},{key:"initializeAllWidgetsWithinElement",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=this._getAllWidgetElementsWithinElement(e)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value,s=this.initializeWidget(u);s.useAfterInitializeAllWidgets()&&t.push(s)}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}var l=!0,c=!1,f=void 0;try{for(var d,p=t[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var h=d.value;h.afterInitializeAllWidgets()}}catch(e){c=!0,f=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw f}}}},{key:"getWidgetInstanceIdFromElement",value:function(e){return e.getAttribute(this._widgetInstanceIdAttribute)}},{key:"getWidgetInstanceByInstanceId",value:function(e){return this._widgetInstanceMap.get(e)}},{key:"getWidgetInstanceFromElement",value:function(e){var t=this.getWidgetInstanceIdFromElement(e);if(t){var n=this.getWidgetInstanceByInstanceId(t);if(n)return n;throw new d("Element\n\n"+e.outerHTML+"\n\nhas the "+(this._widgetInstanceIdAttribute+" attribute, but the id is ")+"not in the widget registry.")}throw new l("Element\n\n"+e.outerHTML+"\n\nhas no or empty "+(this._widgetInstanceIdAttribute+" attribute."))}},{key:"destroyWidget",value:function(e){var t=this.getWidgetInstanceIdFromElement(e);if(!t)throw new l("Element\n\n"+e.outerHTML+"\n\nhas no or empty "+(this._widgetInstanceIdAttribute+" attribute."));var n=this.getWidgetInstanceByInstanceId(t);if(!n)throw new d("Element\n\n"+e.outerHTML+"\n\nhas the "+(this._widgetInstanceIdAttribute+" attribute, but the id is ")+"not in the widget registry.");n.destroy(),this._widgetInstanceMap.delete(t),e.removeAttribute(this._widgetInstanceIdAttribute)}},{key:"_getAllInstanciatedWidgetElementsWithinElement",value:function(e){return Array.from(e.querySelectorAll("["+this._widgetInstanceIdAttribute+"]"))}},{key:"destroyAllWidgetsWithinElement",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this._getAllInstanciatedWidgetElementsWithinElement(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.destroyWidget(o)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}}]),e}();t.default=p}]);
//# sourceMappingURL=devilry_all.js.map